<div class="container my-5">
<%= render 'public/shared/error_messages', resource: @event %>
  <div class="card shadow-sm p-4">
    <div class="card-body">
      <h2 class="text-center text-primary mb-4">イベント作成フォーム</h2>
      
      <%= form_with model: @event, local: true do |f| %>
        <!-- イベント名 -->
        <div class="mb-3">
          <%= f.label :title, 'イベント名', class: 'form-label' %>
          <%= f.text_field :title, class: 'form-control', placeholder: 'イベント名を入力してください' %>
        </div>
        
        <!-- イベント内容 -->
        <div class="mb-3">
          <%= f.label :body, 'イベント内容', class: 'form-label' %>
          <%= f.text_area :body, class: 'form-control', placeholder: 'イベント内容を入力してください', rows: 5 %>
        </div>

        <!-- 画像プレビュー -->
        <%= f.file_field :image, accept: "image/*", class: "form-control", id: "event_image" %>
        <img id="event-image-preview" class="img-fluid mt-2 rounded shadow-sm d-none" style="max-height: 300px;">
        
        <!-- 開始日時 -->
        <div class="mb-3">
          <%= f.label :start_date, '開始日時', class: 'form-label' %>
          <%= f.datetime_select :start_date, class: 'form-select' %>
        </div>
        
        <!-- 終了日時 -->
        <div class="mb-3">
          <%= f.label :end_date, '終了日時', class: 'form-label' %>
          <%= f.datetime_select :end_date, class: 'form-select' %>
        </div>
        
        <!-- 場所の選択 -->
        <div class="form-group">
          <h5 class="text-secondary font-weight-bold">場所を選択</h5>
          <%= f.collection_select :place_ids, @places, :id, :name, {}, { multiple: true, class: "form-control select2" } %>
          <button type="button" class="btn btn-sm btn-outline-primary mt-2" data-toggle="modal" data-target="#addPlaceModal">＋ 場所を追加</button>
        </div>
        
        <!-- 登録ボタン -->
        <div class="text-center">
          <%= f.submit '登録', class: 'btn btn-primary btn-lg px-5' %>
        </div>
      <% end %>
    </div>
  </div>
</div>