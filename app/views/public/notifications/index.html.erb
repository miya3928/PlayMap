<div class="container my-5">
  <!-- タイトル -->
  <div class="text-center mb-4">
    <h2 class="fw-bold text-primary">
      <i class="fa fa-bell text-warning"></i> 通知一覧
    </h2>
    <p class="text-muted">あなたへの最新のアクティビティを表示しています</p>
  </div>

  <% if @notifications.any? %>
    <div class="list-group">
      <% @notifications.each do |notification| %>
        <div class="list-group-item list-group-item-action d-flex align-items-center p-4 shadow-sm mb-3 rounded notification-item">
          
          <!-- 左側：通知の種類アイコン -->
          <div class="flex-shrink-0 mr-md-4 text-center" style="width: 50px;">
            <% case notification.action %>
            <% when "follow" %>
              <i class="fa fa-user-plus text-info fa-2x"></i>
            <% when "review" %>
              <i class="fa fa-comment-dots text-primary fa-2x"></i>
            <% when "review_like" %>
              <i class="fa fa-heart text-danger fa-2x"></i>
            <% when "bookmark" %>
              <i class="fa fa-bookmark text-warning fa-2x"></i>
            <% else %>
              <i class="fa fa-info-circle text-secondary fa-2x"></i>
            <% end %>
          </div>

          <!-- ユーザー画像 -->
          <div class="flex-shrink-0 ml-md-4">
            <%= link_to user_path(notification.visitor) do %>
              <%= display_image_or_default(
                    notification.visitor.image,
                    width: 70,
                    height: 70,
                    classes: "rounded-circle border shadow-sm"
                  ) %>
            <% end %>
          </div>

          <!-- 通知内容 -->
          <div class="flex-grow-1 ml-md-4">
            <% case notification.action %>
            <% when "follow" %>
              <p class="mb-1">
                <%= link_to notification.visitor.name, user_path(notification.visitor), class: "fw-bold text-decoration-none" %>
                さんにフォローされました
              </p>

            <% when "review" %>
              <p class="mb-1">
                <%= link_to notification.visitor.name, user_path(notification.visitor), class: "fw-bold text-decoration-none" %>
                さんがあなたの投稿にレビューしました
              </p>

            <% when "review_like" %>
              <p class="mb-1">
                <%= link_to notification.visitor.name, user_path(notification.visitor), class: "fw-bold text-decoration-none" %>
                さんがあなたのレビューにいいねしました
              </p>

            <% when "bookmark" %>
              <p class="mb-1">
                <%= link_to notification.visitor.name, user_path(notification.visitor), class: "fw-bold text-decoration-none" %>
                さんがあなたの投稿をブックマークしました
              </p>

            <% else %>
              <p class="mb-1">通知: <%= notification.action %></p>
            <% end %>

            <small class="text-muted">
              <i class="fa fa-clock me-1"></i><%= time_ago_in_words(notification.created_at) %>前
            </small>
          </div>

        </div>
      <% end %>
    </div>
  <% else %>
    <div class="text-center text-muted mt-5">
      <i class="fa fa-inbox fa-3x mb-3"></i>
      <p>通知はまだありません</p>
    </div>
  <% end %>
</div>